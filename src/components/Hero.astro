---
import Button from "./Button.astro";
import GitHubIcon from "./icons/GitHubIcon.astro";
import MailIcon from "./icons/MailIcon.astro";
import CLXD from "./icons/CLXD.astro";
import Notification from "./Notification.astro";
import LinkedInIcon from "./icons/LinkedInIcon.astro";

const email = "crashlanxd@gmail.com";
---

<section
  id="home"
  class="h-dvh mx-auto flex items-center mb-24 relative overflow-hidden"
>
  <CLXD
    class="absolute size-96 md:size-[500px] opacity-40 md:opacity-100 -z-[1] -right-48 top-36 md:top-auto md:-left-[250px] text-[--secondary-500] fill-[--secondary-700] hover:text-[--background-950] hover:fill-[--background-700] transition-colors"
  />

  <div class="mx-auto flex flex-col gap-y-6 py-12 p-4 md:px-0">
    <h1 class="text-6xl md:text-7xl font-bold tracking-tight text-[--text]">
      Â¡Hola! ðŸ‘‹<br />
      Soy <strong
        class="bg-gradient-to-r from-[--primary] to-[--accent] text-transparent bg-clip-text"
        >{"<CLXD>"}</strong
      >
    </h1>
    <p
      class="text-pretty text-xl text-[--text-800] [&>strong]:text-[--secondary-600] [&>strong]:font-semibold max-w-2xl"
    >
      Un <strong>desarrollador frontend</strong> en MÃ©xico ðŸ‡²ðŸ‡½. Especializado en crear
      aplicaciones web Ãºnicas, Pro Programmer ;).
    </p>
    <nav
      class="flex flex-col md:flex-row items-center gap-4 h-14 text-[--text-900]"
    >
      <button
        title="ContÃ¡ctame"
        aria-label="ContÃ¡ctame"
        id="emailButton"
        type="button"
        class="flex px-4 text-lg min-w-fit w-1 h-14 items-center justify-center font-bold text-center rounded-xl bg-[--background-100] hover:ring-[1px] ring-[--primary-400] hover:bg-[--background-200] transition-colors gap-2"
        ><MailIcon class="size-7" />{email}</button
      >
      <div class="gap-4 h-14 flex">
        <Button
          title="Ir a mi GitHub"
          aria-label="Ir a mi GitHub"
          href="https://github.com/CrashLanXD"
        >
          <GitHubIcon class="size-7" />
        </Button>
        <Button
          title="Ir a mi LinkedIn"
          aria-label="Ir a mi LinkedIn"
          href="https://www.linkedin.com/in/clxd/"
        >
          <LinkedInIcon class="size-7" />
        </Button>
      </div>
    </nav>
  </div>

  <div
    class="absolute w-full h-12 flex flex-col justify-center items-center text-[--accent] bottom-0"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="currentColor"
      class="size-8"
      ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
        d="M18 9c.852 0 1.297 .986 .783 1.623l-.076 .084l-6 6a1 1 0 0 1 -1.32 .083l-.094 -.083l-6 -6l-.083 -.094l-.054 -.077l-.054 -.096l-.017 -.036l-.027 -.067l-.032 -.108l-.01 -.053l-.01 -.06l-.004 -.057v-.118l.005 -.058l.009 -.06l.01 -.052l.032 -.108l.027 -.067l.07 -.132l.065 -.09l.073 -.081l.094 -.083l.077 -.054l.096 -.054l.036 -.017l.067 -.027l.108 -.032l.053 -.01l.06 -.01l.057 -.004l12.059 -.002z"
      ></path></svg
    >
  </div>
</section>

<script type="module" is:inline>
  const $emailButton = document.getElementById("emailButton");
  const $copySuccess = document.getElementById("copy-success");

  $emailButton.addEventListener("click", () => {
    navigator.clipboard
      .writeText($emailButton.innerText)
      .then(() => {
        $copySuccess.style.display = "flex";
        setTimeout(() => ($copySuccess.style.opacity = "1"), 200);
        setTimeout(() => ($copySuccess.style.opacity = "0"), 3000);
        setTimeout(() => ($copySuccess.style.display = "none"), 3150);
      })
      .catch((err) => console.error("Error al copiar el texto: ", err));
  });

  const $closeButton = document.querySelector(
    '[data-dismiss-target="#copy-success"]'
  );
  $closeButton.addEventListener("click", () => {
    $copySuccess.style.display = "none";
  });
</script>

<Notification id="copy-success" text="email copiado! ;)" />
